<!DOCTYPE html>
<html lang="ko">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Kim Chantae</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="canonical" href="https://nkdevil.github.io/kct/">
    <meta name="description" content="Sites that introduce kct">
    <meta name="author" content="Kim Chantae">
    <link rel="stylesheet" href="dist/css/reset.css" />
    <link rel="stylesheet" href="dist/css/common.css" />
    <script src="dist/js/lory.js"></script>
</head>
<body>
    <header>
        <nav>
            <a href="#">About</a>
            <a href="#">Project</a>
            <a href="#">Portfolio</a>
        </nav>
        <section>
            <h1>KIMCHANTAE
                WEBPUBLISHER</h1>
            <button type="button">Go to portfolio</button>
        </section>
    </header>
    <section>
        <h2>ABOUT</h2>
        <figure>
            <img src="dist/images/img_character.png" alt="Kim Chan Tae character" />
            <img src="dist/images/img_face.png" alt="Kim Chan Tae face" />
            <figcaption>“Que sera sera”</figcaption>
        </figure>
        <figure>
            <img src="dist/images/icon_html.png" alt="HTML5" />
            <figcaption>웹표준 마크업과<br />접근성을 준수한<br />HTML코딩작업을합니다.</figcaption>
        </figure>
        <figure>
            <img src="dist/images/icon_css.png" alt="CSS3" />
            <figcaption>반응형 및 적응형웹<br />크로스브라우징과<br />다양한 CSS 애니메이션<br />작업을합니다.</figcaption>
        </figure>
        <figure>
            <img src="dist/images/icon_js.png" alt="javaScript" />
            <figcaption>제이쿼리와 라이브러리<br />순수 자바스크립트를 이용한<br />스크립트작업을합니다.</figcaption>
        </figure>
    </section>
    <section>
        <h2>PORTFOLIO</h2>
        <ul>
            <li onclick="movePage('ajpark')">AJ park admin</li>
            <li onclick="movePage('ajpartner')">AJ park partner</li>
            <li onclick="movePage('zlab')">Zlab homepage</li>
            <li onclick="movePage('okban')">okban homepage</li>
        </ul>
        <div id="contentsWrap" class="close">
            <figure>
                <img src="dist/images/portfolio_thumbnail1.png" alt="AJ파크 관리자" onclick="movePage('ajpark')" />
                <figcaption>AJ파크 관리자웹</figcaption>
            </figure>
            <figure>
                <img src="dist/images/portfolio_thumbnail3.png" alt="AJ파크 파트너 관리자" onclick="movePage('ajpartner')" />
                <figcaption>AJ파크 파트너 웹</figcaption>
            </figure>
            <figure>
                <img src="dist/images/portfolio_thumbnail4.png" alt="장플레이스랩" onclick="movePage('zlab')" />
                <figcaption>장플레이스랩 홈페이지</figcaption>
            </figure>
            <figure>
                <img src="dist/images/portfolio_thumbnail2.png" alt="옥반식품" onclick="movePage('okban')" />
                <figcaption>옥반식품 홈페이지</figcaption>
            </figure>
        </div>
    </section>
    <footer>ⓒ 2017. KIM CHAN TAE all rights reserved.<a href="mailto:nkdevil@naver.com">nkdevil@naver.com</a></footer>
    <script>
       
        var wrap = document.getElementById('contentsWrap');
        var viewPosition = wrap.getBoundingClientRect().top + window.pageYOffset;

        function movePage(fn) {
            TopscrollTo();
            var page = fn + '.html';
            wrap.className = 'open';
            setTimeout(function () { 
                var request = new XMLHttpRequest();
                request.open('GET', page , true);
                request.onload = function () {
                    if (request.status >= 200 && request.status < 400) {
                        var contents = request.responseText;
                        wrap.innerHTML = contents;
                    }
                };
                request.send();
                window.location.href = '#' + fn;
                wrap.className = 'close';
            }, 1000);
            contentsList();
        }

        function TopscrollTo() {
            console.log(viewPosition);
            if (window.scrollY <= viewPosition) {
                return;
            }else if (window.scrollY > viewPosition) {
                setTimeout(function () {
                    window.scrollTo(0 , window.scrollY - 30);
                    TopscrollTo();
                }, 5);
            }
        }

        function contentsList() {
            document.querySelector('ul').className = 'active';
        }

        window.onscroll = function () {
            var headerPosition = document.querySelector('header').offsetHeight;
            console.log(headerPosition);
        }
    </script>
</body>
</html>
